<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="mggn" />


<title>Twitter_data</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="index.html">Welcome</a>
</li>
<li>
  <a href="report.html">Report</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Exploratory Analysis
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="methods.html">National Health Survey Data</a>
    </li>
    <li>
      <a href="test_storyboard.html">Exploratory Analysis II: BRFSS dashboard</a>
    </li>
  </ul>
</li>
<li>
  <a href="stat.html">Statistical Analysis</a>
</li>
<li>
  <a href="qual.html">Qualitative exploration</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Bonus Stuff
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="extras.html">Team Members</a>
    </li>
    <li>
      <a href="resources.html">Resources</a>
    </li>
  </ul>
</li>
<li>
  <a href="http://github.com/&lt;YOUR_GH_NAME&gt;/">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Twitter_data</h1>
<h4 class="author">mggn</h4>
<h4 class="date">12/1/2020</h4>

</div>


<p>As part of this project, we thought it would be useful to glean (scrape) information from the web to see what people had to say about the flu vaccine, or vaccines in general. To do so, our team used the rtweet package to get data from twitter. A few notes on this:</p>
<ul>
<li>In order to gain access to twitter’s API, you have to either request a developer account or install an app from rtweet (MUCH easier)<br />
</li>
<li>As I went about exploring this package, attempting to remedy and run code multiple times, I remembered that I was accessing resources on someone else’s server…<br />
</li>
<li>So I learned the hard way that I was limited to one “access” at a time (and by time, I mean by hour)</li>
</ul>
<p>As a work around, I “called” the data on two separate days and saved the resulting data frames as csvs.</p>
<p>The tweets_df.csv was created on Nov. 29, 2020 at 11:40 am</p>
<pre class="r"><code>tweets_df =
read_csv(&quot;./final_project_large_data/tweets_df.csv&quot;)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   .default = col_character(),
##   created_at = col_datetime(format = &quot;&quot;),
##   display_text_width = col_double(),
##   is_quote = col_logical(),
##   is_retweet = col_logical(),
##   favorite_count = col_double(),
##   retweet_count = col_double(),
##   quote_count = col_logical(),
##   reply_count = col_logical(),
##   ext_media_type = col_logical(),
##   quoted_created_at = col_datetime(format = &quot;&quot;),
##   quoted_favorite_count = col_double(),
##   quoted_retweet_count = col_double(),
##   quoted_followers_count = col_double(),
##   quoted_friends_count = col_double(),
##   quoted_statuses_count = col_double(),
##   quoted_verified = col_logical(),
##   retweet_status_id = col_logical(),
##   retweet_text = col_logical(),
##   retweet_created_at = col_logical(),
##   retweet_source = col_logical()
##   # ... with 20 more columns
## )</code></pre>
<pre><code>## See spec(...) for full column specifications.</code></pre>
<p>the tweets_df2.csv was created on Dec. 1, 2020 at 10:40 pm</p>
<pre class="r"><code>tweets_df2 =
read_csv(&quot;./final_project_large_data/tweets_df2.csv&quot;)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   .default = col_character(),
##   created_at = col_datetime(format = &quot;&quot;),
##   display_text_width = col_double(),
##   is_quote = col_logical(),
##   is_retweet = col_logical(),
##   favorite_count = col_double(),
##   retweet_count = col_double(),
##   quote_count = col_logical(),
##   reply_count = col_logical(),
##   ext_media_type = col_logical(),
##   quoted_created_at = col_datetime(format = &quot;&quot;),
##   quoted_favorite_count = col_double(),
##   quoted_retweet_count = col_double(),
##   quoted_followers_count = col_double(),
##   quoted_friends_count = col_double(),
##   quoted_statuses_count = col_double(),
##   quoted_verified = col_logical(),
##   retweet_status_id = col_logical(),
##   retweet_text = col_logical(),
##   retweet_created_at = col_logical(),
##   retweet_source = col_logical()
##   # ... with 20 more columns
## )</code></pre>
<pre><code>## See spec(...) for full column specifications.</code></pre>
<p>The process to created them is below, but commented out (I don’t want it to run every time I knit)</p>
<pre class="r"><code># tweets1 = search_tweets(q = &quot;#vaccine&quot;,
#                         n = 18000,
#                         include_rts = FALSE,
#                         `-filter` = &quot;replies&quot;,
#                         lang = &quot;en&quot;)
# 
# ts_plot(tweets1, &quot;weeks&quot;) +
#   labs(x = NULL, y = NULL,
#        title = &quot;Frequency of tweets mentioning #vaccine&quot;,
#        subtitle = paste0(format(min(tweets1$created_at), &quot;%d %B %Y&quot;), &quot; to &quot;, format(max(tweets1$created_at),&quot;%d %B %Y&quot;)),
#        caption = &quot;Data collected from Twitter&#39;s REST API via rtweet&quot;) +
#   theme_minimal()
# 
# 
# tweets_df2 =
#   search_tweets(q = &quot;flu OR vaccine OR flushot&quot;,
#                         n = 5000,
#                         include_rts = FALSE,
#                         `-filter` = &quot;replies&quot;,
#                         lang = &quot;en&quot;) %&gt;%
#   write_as_csv(&quot;./final_project_large_data/tweets_df2.csv&quot;)</code></pre>
<p>Let’s explore!</p>
<pre class="r"><code>tweets_df %&gt;%
  sample_n(10) %&gt;%
  select(created_at, text) %&gt;%
  knitr::kable()</code></pre>
<table>
<colgroup>
<col width="6%" />
<col width="93%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">created_at</th>
<th align="left">text</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">2020-11-29 15:36:09</td>
<td align="left">Super Fun Red Casio Digital Wrist Shot <a href="https://t.co/DBMifu8Urs" class="uri">https://t.co/DBMifu8Urs</a></td>
</tr>
<tr class="even">
<td align="left">2020-11-29 14:35:26</td>
<td align="left">Mobile phone balanced in the the ironing board for the overhead shot worked well. <a href="https://t.co/DgnKYw2cXp" class="uri">https://t.co/DgnKYw2cXp</a></td>
</tr>
<tr class="odd">
<td align="left">2020-11-29 15:15:43</td>
<td align="left"><span class="citation">@Sflecce</span> <span class="citation">@fordnation</span> Looking at how you distributed the flu vaccine and that it’s unavailable everywhere I will just say: I don’t trust you.</td>
</tr>
<tr class="even">
<td align="left">2020-11-29 15:42:44</td>
<td align="left"><span class="citation">@sk8trmom66</span> <span class="citation">@CTVNews</span> Who cares … how many of those new infections will result in death? Why aren’t you upset like this every flu season? Of those 24 who died, how many are from old age homes? I gonna take a guess and say 24 .</td>
</tr>
<tr class="odd">
<td align="left">2020-11-29 16:04:54</td>
<td align="left"><span class="citation">@martin_pearsell</span> We haven’t had any seasonal flu deaths in our county in last 12 months. Last year flu killed 80k. Cancer deaths stopped. The numbers are padded. Cases don’t equal deaths. 99.6% survival. Don’t compare to war. There are more car deaths ea yr yet we don’t ban cars</td>
</tr>
<tr class="even">
<td align="left">2020-11-29 16:01:02</td>
<td align="left"><span class="citation">@gjd96</span> Shot</td>
</tr>
<tr class="odd">
<td align="left">2020-11-29 16:02:55</td>
<td align="left">Maybe, if we are extra careful, we can keep prevalence low enough to avoid another lockdown in 2021. It might be our last chance to prove that we can live safely with the virus, as other countries have. Let’s give it a shot. More detailed discussion in:</td>
</tr>
<tr class="even">
<td align="left"><a href="https://t.co/7qH9KpHCBC" class="uri">https://t.co/7qH9KpHCBC</a></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">2020-11-29 16:17:25</td>
<td align="left"><span class="citation">@NoisyHuevos</span> so in a 6 player standard league, we both had a guy go on Thanksgiving and I’m down 30pts already and lost Lamar and have to start Trubisky…since I almost have no shot at winning, am I crazy to start Hinton at WR over Kupp? Figure time for a hail mary</td>
</tr>
<tr class="even">
<td align="left">2020-11-29 15:52:14</td>
<td align="left">OwO Wouwd uu take a vaccine that was devewoped with da hewp of an abowted fetus? Wead this #ThoughtWeadews piece by Wevewend Fw. Nicanuw Austwiaco. Ù&lt;U+03C9&gt;Ù <a href="https://t.co/AuO7TyJoUK" class="uri">https://t.co/AuO7TyJoUK</a></td>
</tr>
<tr class="odd">
<td align="left">2020-11-29 15:10:40</td>
<td align="left"><span class="citation">@Walter06731900</span> <span class="citation">@CNNPolitics</span> Lol <span class="citation">@realDonaldTrump</span> is why we have a vaccine <a href="https://t.co/g9wiAaExOT" class="uri">https://t.co/g9wiAaExOT</a></td>
</tr>
</tbody>
</table>
<pre class="r"><code>tweets_df2 %&gt;%
  sample_n(5) %&gt;%
  select(created_at, text) %&gt;%
  knitr::kable()</code></pre>
<table>
<colgroup>
<col width="8%" />
<col width="91%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">created_at</th>
<th align="left">text</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">2020-12-02 03:34:01</td>
<td align="left"><span class="citation">@RobynUrback</span> When will Canadians get the #vaccine ..what is the rollout and distribution plan? Please let us know what to expect.</td>
</tr>
<tr class="even">
<td align="left">2020-12-02 02:25:28</td>
<td align="left">The same people who claim that they can regulate what substances you may or may not choose to experiment with in YOUR body, are the same ones who say you have no choice but to take an experimental vaccine into YOUR body.</td>
</tr>
<tr class="odd">
<td align="left">2020-12-02 02:40:35</td>
<td align="left"><span class="citation">@steveschillin10</span> You have a good immune system. I take it for years and also don’t never get it. Before taking the vaccine though, I had the flu a couple of times.</td>
</tr>
<tr class="even">
<td align="left">2020-12-02 02:35:33</td>
<td align="left"><span class="citation">@Koreoscream</span> u won’t even know it’s happening when it does! it’s almost january soon it’ll be the cabin and maybe the vaccine will be settled and workin and then it’ll be summer love you</td>
</tr>
<tr class="odd">
<td align="left">2020-12-02 02:20:30</td>
<td align="left">Not ever, would you &lt;U+0001F632&gt;&lt;U+0001F411&gt;&lt;U+0001F411&gt;&lt;U+0001F411&gt;</td>
</tr>
<tr class="even">
<td align="left"><a href="https://t.co/30QyN7ulBL" class="uri">https://t.co/30QyN7ulBL</a></td>
<td align="left"></td>
</tr>
</tbody>
</table>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
